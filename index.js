const express = require('express');
const cors = require('cors');

const app = express();
app.use(cors());

// ะัะฐะทะดะฝะธะบะธ ะะะ ะฑะฐะทั ะดะฐะฝะฝัั
const holidays = {
  1: "๐ ะกะตะณะพะดะฝั - ะะตะฝั ัะฝะตะณะพะฒะธะบะฐ! ะะพัััะพะนัะต ัะฝะตะณะพะฒะธะบะฐ ะธ ัะดะตะปะฐะนัะต ัะพัะพ.",
  2: "๐ ะะฐะฒััะฐ - ะะตะฝั ะพะฑัััะธะน! ะะฑะฝะธะผะธัะต ัััั ัะตะปะพะฒะตะบ ะธ ัะบะฐะถะธัะต ะธะผ ะฟัะธััะฝัะต ัะปะพะฒะฐ."
};

// API endpoint
app.get('/api.php', (req, res) => {
  try {
    const day = parseInt(req.query.day) || 1;
    
    // ะคะพัะผะฐัะธััะตะผ ะบะฐะบ ะฒ ะพัะธะณะธะฝะฐะปัะฝะพะผ API
    let holidayText;
    if (day === 1) {
      holidayText = "ะกะตะณะพะดะฝั - ะะตะฝั ัะฝะตะณะพะฒะธะบะฐ! ะะพัััะพะนัะต ัะฝะตะณะพะฒะธะบะฐ ะธ ัะดะตะปะฐะนัะต ัะพัะพ.";
    } else {
      holidayText = "ะะฐะฒััะฐ - ะะตะฝั ะพะฑัััะธะน! ะะฑะฝะธะผะธัะต ัััั ัะตะปะพะฒะตะบ ะธ ัะบะฐะถะธัะต ะธะผ ะฟัะธััะฝัะต ัะปะพะฒะฐ.";
    }
    
    res.json({ holiday: holidayText });
    
  } catch (error) {
    res.json({ holiday: "ะกะตะณะพะดะฝั ะฟัะตะบัะฐัะฝัะน ะดะตะฝั ะดะปั ัััะฑั!" });
  }
});

const PORT = process.env.PORT || 10000;
app.listen(PORT, () => {
  console.log(`๐ ะกะตัะฒะตั ะทะฐะฟััะตะฝ ะฝะฐ ะฟะพััั ${PORT}`);
  console.log(`โ API ัะฐะฑะพัะฐะตั ะะะ ะฑะฐะทั ะดะฐะฝะฝัั!`);
  console.log(`๐ ะขะตัั: /api.php?day=1`);
});
